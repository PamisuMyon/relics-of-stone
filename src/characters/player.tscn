[gd_scene load_steps=13 format=3 uid="uid://xpqtxq64qavp"]

[ext_resource type="Script" path="res://src/characters/player.gd" id="1_roqip"]
[ext_resource type="PackedScene" uid="uid://byln4fr7p6cn6" path="res://assets/characters/adventurer/Adventurer.glb" id="2_v4mss"]
[ext_resource type="Script" path="res://src/characters/character_model.gd" id="3_inaa5"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_oekga"]
radius = 0.25448
height = 1.85564

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_nn3mp"]
animation = &"Throw"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_s7ndp"]
animation = &"Death"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ot3o6"]
animation = &"Running"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gaea3"]
animation = &"Idle"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_mwme5"]
fadein_time = 0.25
fadeout_time = 0.25

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_tv1yu"]
enabled_inputs = 3
xfade_time = 0.15
input_0/name = "idle"
input_0/auto_advance = false
input_1/name = "run"
input_1/auto_advance = false
input_2/name = "die"
input_2/auto_advance = false

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_04q1v"]
graph_offset = Vector2(-695.801, -8.83087)
nodes/Animation/node = SubResource("AnimationNodeAnimation_ot3o6")
nodes/Animation/position = Vector2(-640, 180)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_nn3mp")
"nodes/Animation 2/position" = Vector2(-340, 400)
"nodes/Animation 3/node" = SubResource("AnimationNodeAnimation_s7ndp")
"nodes/Animation 3/position" = Vector2(-660, 300)
nodes/Idle/node = SubResource("AnimationNodeAnimation_gaea3")
nodes/Idle/position = Vector2(-640, 60)
nodes/cast/node = SubResource("AnimationNodeOneShot_mwme5")
nodes/cast/position = Vector2(-60, 180)
nodes/state/node = SubResource("AnimationNodeTransition_tv1yu")
nodes/state/position = Vector2(-320, 120)
node_connections = [&"output", 0, &"cast", &"cast", 0, &"state", &"cast", 1, &"Animation 2", &"state", 0, &"Idle", &"state", 1, &"Animation", &"state", 2, &"Animation 3"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_udn26"]
radius = 0.1
height = 1.0

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.433505, 0)
collision_layer = 2
collision_mask = 7
script = ExtResource("1_roqip")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.489345, 0)
shape = SubResource("CapsuleShape3D_oekga")

[node name="Model" parent="." instance=ExtResource("2_v4mss")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.39652, 0)
script = ExtResource("3_inaa5")

[node name="CharacterArmature" parent="Model" index="0"]
transform = Transform3D(0.994408, 0.102161, 0.0267485, -0.102568, 0.994623, 0.0143235, -0.0251414, -0.0169869, 0.99954, -0.0908882, -0.027307, -0.0216312)

[node name="Skeleton3D" parent="Model/CharacterArmature" index="0"]
bones/1/rotation = Quaternion(-0.068659, -0.00242077, 0.0245082, 0.997336)
bones/2/rotation = Quaternion(-0.0185123, -0.00712993, 0.0346977, 0.999201)
bones/3/rotation = Quaternion(0.0990841, -0.00436366, 0.0351529, 0.994448)
bones/4/rotation = Quaternion(0.000603445, -0.000892907, 0.0354114, 0.999372)
bones/5/rotation = Quaternion(0.000176721, -0.00236113, -0.0190601, 0.999816)
bones/7/rotation = Quaternion(-0.163744, -0.502454, -0.410861, 0.742914)
bones/8/rotation = Quaternion(-0.818539, -0.0895846, -0.206885, 0.528363)
bones/9/rotation = Quaternion(0.000396569, -0.021816, -0.123766, 0.992072)
bones/10/rotation = Quaternion(-0.0865447, -0.241831, 0.0624351, 0.964432)
bones/11/rotation = Quaternion(-0.0781464, 0.0861952, 0.0242151, 0.992913)
bones/12/rotation = Quaternion(-0.188911, -0.0174557, 0.00201943, 0.981837)
bones/14/rotation = Quaternion(-0.14654, 0.0517654, 0.0612523, 0.985949)
bones/15/rotation = Quaternion(-0.296914, -0.0184016, 0.0218798, 0.954476)
bones/17/rotation = Quaternion(-0.209445, 0.0546165, 0.0840928, 0.972666)
bones/18/rotation = Quaternion(-0.324197, 0.0108751, 0.0106551, 0.945867)
bones/20/rotation = Quaternion(-0.288844, 0.0667973, 0.12366, 0.947004)
bones/21/rotation = Quaternion(-0.36866, 0.00396248, 0.00956556, 0.929507)
bones/23/rotation = Quaternion(-0.217052, 0.126595, -0.260489, 0.932206)
bones/24/rotation = Quaternion(0.072434, -0.28929, 0.228173, 0.926824)
bones/26/rotation = Quaternion(-0.196865, 0.425574, 0.400459, 0.787251)
bones/27/rotation = Quaternion(-0.721042, 0.158404, 0.236865, 0.631587)
bones/28/rotation = Quaternion(0.000480819, 0.0271589, 0.150204, 0.988282)
bones/29/rotation = Quaternion(-0.0979758, 0.095599, -0.0876766, 0.986699)
bones/30/rotation = Quaternion(-0.0784282, -0.0865066, -0.0261108, 0.992816)
bones/31/rotation = Quaternion(-0.188912, 0.0176101, -0.00142674, 0.981835)
bones/33/rotation = Quaternion(-0.146814, -0.0513163, -0.0630318, 0.985819)
bones/34/rotation = Quaternion(-0.296962, 0.0183313, -0.0212434, 0.954477)
bones/36/rotation = Quaternion(-0.209757, -0.0538349, -0.085748, 0.972497)
bones/37/rotation = Quaternion(-0.324162, -0.0110394, -0.0100644, 0.945884)
bones/39/rotation = Quaternion(-0.289356, -0.0665347, -0.124894, 0.946704)
bones/40/rotation = Quaternion(-0.368635, -0.00414864, -0.00835243, 0.929527)
bones/42/rotation = Quaternion(-0.217, -0.125184, 0.258792, 0.932881)
bones/43/rotation = Quaternion(0.0723604, 0.289287, -0.228191, 0.926826)
bones/45/rotation = Quaternion(0.96864, 0.119861, -0.112152, 0.186528)
bones/46/rotation = Quaternion(0.276382, -0.0766093, -0.0386922, 0.957208)
bones/48/rotation = Quaternion(0.994707, 0.0894119, 0.0418544, 0.0285046)
bones/49/rotation = Quaternion(0.156486, 0.0458165, -0.0230156, 0.986348)

[node name="AnimationTree" type="AnimationTree" parent="Model"]
tree_root = SubResource("AnimationNodeBlendTree_04q1v")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/cast/active = false
parameters/state/current = 0

[node name="RayCastGround" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.1, 0)
collision_mask = 4

[node name="ShapeCastLedge" type="ShapeCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.618405, 0.416)
enabled = false
shape = SubResource("CapsuleShape3D_udn26")
max_results = 2
collision_mask = 5

[editable path="Model"]
