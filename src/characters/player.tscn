[gd_scene load_steps=13 format=3 uid="uid://xpqtxq64qavp"]

[ext_resource type="Script" path="res://src/characters/player.gd" id="1_roqip"]
[ext_resource type="PackedScene" uid="uid://byln4fr7p6cn6" path="res://assets/characters/adventurer/Adventurer.glb" id="2_v4mss"]
[ext_resource type="Script" path="res://src/characters/character_model.gd" id="3_inaa5"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_oekga"]
radius = 0.25448
height = 1.85564

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_nn3mp"]
animation = &"Throw"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_s7ndp"]
animation = &"Death"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ot3o6"]
animation = &"Running"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gaea3"]
animation = &"Idle"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_mwme5"]
fadein_time = 0.25
fadeout_time = 0.25

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_tv1yu"]
enabled_inputs = 3
xfade_time = 0.15
input_0/name = "idle"
input_0/auto_advance = false
input_1/name = "run"
input_1/auto_advance = false
input_2/name = "die"
input_2/auto_advance = false

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_04q1v"]
graph_offset = Vector2(-695.801, -8.83087)
nodes/Animation/node = SubResource("AnimationNodeAnimation_ot3o6")
nodes/Animation/position = Vector2(-640, 180)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_nn3mp")
"nodes/Animation 2/position" = Vector2(-340, 400)
"nodes/Animation 3/node" = SubResource("AnimationNodeAnimation_s7ndp")
"nodes/Animation 3/position" = Vector2(-660, 300)
nodes/Idle/node = SubResource("AnimationNodeAnimation_gaea3")
nodes/Idle/position = Vector2(-640, 60)
nodes/cast/node = SubResource("AnimationNodeOneShot_mwme5")
nodes/cast/position = Vector2(-60, 180)
nodes/state/node = SubResource("AnimationNodeTransition_tv1yu")
nodes/state/position = Vector2(-320, 120)
node_connections = [&"output", 0, &"cast", &"cast", 0, &"state", &"cast", 1, &"Animation 2", &"state", 0, &"Idle", &"state", 1, &"Animation", &"state", 2, &"Animation 3"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_udn26"]
radius = 0.1
height = 1.0

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.433505, 0)
collision_layer = 2
collision_mask = 7
script = ExtResource("1_roqip")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.489345, 0)
shape = SubResource("CapsuleShape3D_oekga")

[node name="Model" parent="." instance=ExtResource("2_v4mss")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.39652, 0)
script = ExtResource("3_inaa5")

[node name="CharacterArmature" parent="Model" index="0"]
transform = Transform3D(0.994623, 0.0996098, 0.0283322, -0.100051, 0.994875, 0.0145884, -0.0267339, -0.0173447, 0.999492, -0.0929977, -0.0285654, -0.0248318)

[node name="Skeleton3D" parent="Model/CharacterArmature" index="0"]
bones/1/rotation = Quaternion(-0.0667334, -0.00207761, 0.0243228, 0.997472)
bones/2/rotation = Quaternion(-0.0137808, -0.00642935, 0.0349372, 0.999274)
bones/3/rotation = Quaternion(0.103791, -0.00364631, 0.0353363, 0.993965)
bones/4/rotation = Quaternion(0.00533549, -0.000161033, 0.0355235, 0.999355)
bones/5/rotation = Quaternion(0.000329269, -0.00230114, -0.0190578, 0.999816)
bones/7/rotation = Quaternion(-0.200526, -0.485553, -0.467068, 0.711249)
bones/8/rotation = Quaternion(-0.776299, -0.116032, -0.194004, 0.588438)
bones/9/rotation = Quaternion(0.000396569, -0.021816, -0.123766, 0.992072)
bones/10/rotation = Quaternion(-0.0904771, -0.244328, 0.061019, 0.963532)
bones/11/rotation = Quaternion(-0.0700476, 0.0864193, 0.0238698, 0.993507)
bones/12/rotation = Quaternion(-0.180923, -0.0174254, 0.00222971, 0.98334)
bones/14/rotation = Quaternion(-0.138524, 0.0519935, 0.0606679, 0.987131)
bones/15/rotation = Quaternion(-0.28914, -0.0183704, 0.021503, 0.956869)
bones/17/rotation = Quaternion(-0.228749, 0.0544532, 0.0856017, 0.968185)
bones/18/rotation = Quaternion(-0.342984, 0.0109413, 0.0110899, 0.939212)
bones/20/rotation = Quaternion(-0.307584, 0.0645521, 0.125707, 0.940969)
bones/21/rotation = Quaternion(-0.387038, 0.00378154, 0.0101258, 0.922001)
bones/23/rotation = Quaternion(-0.209683, 0.132503, -0.243861, 0.937554)
bones/24/rotation = Quaternion(0.0778756, -0.28733, 0.24667, 0.922242)
bones/26/rotation = Quaternion(-0.236244, 0.414943, 0.452349, 0.753254)
bones/27/rotation = Quaternion(-0.674132, 0.179156, 0.219194, 0.682205)
bones/28/rotation = Quaternion(0.000483538, 0.0273066, 0.150935, 0.988166)
bones/29/rotation = Quaternion(-0.0966974, 0.0982943, -0.0896286, 0.986385)
bones/30/rotation = Quaternion(-0.0703291, -0.0867484, -0.0257896, 0.99341)
bones/31/rotation = Quaternion(-0.180925, 0.0175801, -0.00166201, 0.983338)
bones/33/rotation = Quaternion(-0.138797, -0.0515613, -0.0624676, 0.987003)
bones/34/rotation = Quaternion(-0.289187, 0.0182999, -0.0208831, 0.95687)
bones/36/rotation = Quaternion(-0.229063, -0.0536319, -0.0872089, 0.968013)
bones/37/rotation = Quaternion(-0.343001, -0.0111046, -0.010466, 0.939211)
bones/39/rotation = Quaternion(-0.308091, -0.0642482, -0.126877, 0.940667)
bones/40/rotation = Quaternion(-0.387069, -0.0039657, -0.00885368, 0.922)
bones/42/rotation = Quaternion(-0.20964, -0.131123, 0.242086, 0.938218)
bones/43/rotation = Quaternion(0.0777883, 0.287329, -0.246663, 0.922252)
bones/45/rotation = Quaternion(0.968302, 0.120261, -0.111712, 0.18828)
bones/46/rotation = Quaternion(0.275682, -0.075797, -0.0389709, 0.957463)
bones/48/rotation = Quaternion(0.99444, 0.0905155, 0.0419524, 0.0336968)
bones/49/rotation = Quaternion(0.164016, 0.0482145, -0.0223944, 0.985024)

[node name="AnimationTree" type="AnimationTree" parent="Model"]
tree_root = SubResource("AnimationNodeBlendTree_04q1v")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/cast/active = false
parameters/state/current = 0

[node name="RayCastGround" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.1, 0)
collision_mask = 4

[node name="ShapeCastLedge" type="ShapeCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.618405, 0.416)
enabled = false
shape = SubResource("CapsuleShape3D_udn26")
max_results = 2
collision_mask = 5

[editable path="Model"]
