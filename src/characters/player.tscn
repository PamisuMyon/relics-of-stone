[gd_scene load_steps=13 format=3 uid="uid://xpqtxq64qavp"]

[ext_resource type="Script" path="res://src/characters/player.gd" id="1_roqip"]
[ext_resource type="PackedScene" uid="uid://byln4fr7p6cn6" path="res://assets/characters/adventurer/Adventurer.glb" id="2_v4mss"]
[ext_resource type="Script" path="res://src/characters/character_model.gd" id="3_inaa5"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_oekga"]
radius = 0.25448
height = 1.85564

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_nn3mp"]
animation = &"Throw"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_s7ndp"]
animation = &"Death"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ot3o6"]
animation = &"Running"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gaea3"]
animation = &"Idle"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_mwme5"]
fadein_time = 0.25
fadeout_time = 0.25

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_tv1yu"]
enabled_inputs = 3
xfade_time = 0.15
input_0/name = "idle"
input_0/auto_advance = false
input_1/name = "run"
input_1/auto_advance = false
input_2/name = "die"
input_2/auto_advance = false

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_04q1v"]
graph_offset = Vector2(-695.801, -8.83087)
nodes/Animation/node = SubResource("AnimationNodeAnimation_ot3o6")
nodes/Animation/position = Vector2(-640, 180)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_nn3mp")
"nodes/Animation 2/position" = Vector2(-340, 400)
"nodes/Animation 3/node" = SubResource("AnimationNodeAnimation_s7ndp")
"nodes/Animation 3/position" = Vector2(-660, 300)
nodes/Idle/node = SubResource("AnimationNodeAnimation_gaea3")
nodes/Idle/position = Vector2(-640, 60)
nodes/cast/node = SubResource("AnimationNodeOneShot_mwme5")
nodes/cast/position = Vector2(-60, 180)
nodes/state/node = SubResource("AnimationNodeTransition_tv1yu")
nodes/state/position = Vector2(-320, 120)
node_connections = [&"output", 0, &"cast", &"cast", 0, &"state", &"cast", 1, &"Animation 2", &"state", 0, &"Idle", &"state", 1, &"Animation", &"state", 2, &"Animation 3"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_udn26"]
radius = 0.1
height = 1.0

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.433505, 0)
collision_layer = 2
collision_mask = 7
script = ExtResource("1_roqip")
metadata/type = "player"

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.489345, 0)
shape = SubResource("CapsuleShape3D_oekga")

[node name="Model" parent="." instance=ExtResource("2_v4mss")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.39652, 0)
script = ExtResource("3_inaa5")

[node name="CharacterArmature" parent="Model" index="0"]
transform = Transform3D(0.994752, 0.0993931, 0.0242775, -0.0997505, 0.994914, 0.0139752, -0.022765, -0.0163235, 0.999608, -0.0913818, -0.0281124, -0.0227712)

[node name="Skeleton3D" parent="Model/CharacterArmature" index="0"]
bones/1/rotation = Quaternion(-0.0675223, -0.00226113, 0.0244772, 0.997415)
bones/2/rotation = Quaternion(-0.0155597, -0.0067896, 0.0349565, 0.999245)
bones/3/rotation = Quaternion(0.102022, -0.00400392, 0.035384, 0.994145)
bones/4/rotation = Quaternion(0.00355644, -0.000512228, 0.0356061, 0.999359)
bones/5/rotation = Quaternion(-0.00114271, -0.00261028, -0.0186135, 0.999823)
bones/7/rotation = Quaternion(-0.187555, -0.492371, -0.44842, 0.722021)
bones/8/rotation = Quaternion(-0.791248, -0.107485, -0.19843, 0.56833)
bones/9/rotation = Quaternion(0.000396569, -0.021816, -0.123766, 0.992072)
bones/10/rotation = Quaternion(-0.0879644, -0.241615, 0.0608115, 0.964462)
bones/11/rotation = Quaternion(-0.082859, 0.0860621, 0.0244145, 0.992538)
bones/12/rotation = Quaternion(-0.193556, -0.0174726, 0.00189701, 0.980932)
bones/14/rotation = Quaternion(-0.151202, 0.0516314, 0.0615916, 0.98523)
bones/15/rotation = Quaternion(-0.30143, -0.0184192, 0.0220986, 0.953054)
bones/17/rotation = Quaternion(-0.245125, 0.0541626, 0.086517, 0.964103)
bones/18/rotation = Quaternion(-0.358906, 0.0109942, 0.0114572, 0.933239)
bones/20/rotation = Quaternion(-0.323446, 0.0625401, 0.127208, 0.935569)
bones/21/rotation = Quaternion(-0.402602, 0.00362584, 0.0106007, 0.915307)
bones/23/rotation = Quaternion(-0.203299, 0.137038, -0.229432, 0.94194)
bones/24/rotation = Quaternion(0.0827494, -0.285287, 0.262247, 0.918145)
bones/26/rotation = Quaternion(-0.222245, 0.418814, 0.433607, 0.766281)
bones/27/rotation = Quaternion(-0.69088, 0.172126, 0.227589, 0.664275)
bones/28/rotation = Quaternion(0.000482738, 0.0272624, 0.150716, 0.988201)
bones/29/rotation = Quaternion(-0.096442, 0.096471, -0.0881411, 0.986724)
bones/30/rotation = Quaternion(-0.0831413, -0.0863633, -0.0262962, 0.99244)
bones/31/rotation = Quaternion(-0.193557, 0.0176269, -0.00128966, 0.98093)
bones/33/rotation = Quaternion(-0.151477, -0.0511724, -0.0633592, 0.9851)
bones/34/rotation = Quaternion(-0.301479, 0.018349, -0.0214525, 0.953055)
bones/36/rotation = Quaternion(-0.245446, -0.0533077, -0.0880832, 0.963927)
bones/37/rotation = Quaternion(-0.358934, -0.0111566, -0.0108047, 0.933234)
bones/39/rotation = Quaternion(-0.323952, -0.0622003, -0.128323, 0.935264)
bones/40/rotation = Quaternion(-0.40263, -0.00380875, -0.00927713, 0.915308)
bones/42/rotation = Quaternion(-0.20331, -0.135648, 0.227694, 0.94256)
bones/43/rotation = Quaternion(0.0826656, 0.285284, -0.26227, 0.918147)
bones/45/rotation = Quaternion(0.968597, 0.1202, -0.1129, 0.18608)
bones/46/rotation = Quaternion(0.274534, -0.0769618, -0.0386303, 0.957714)
bones/48/rotation = Quaternion(0.994667, 0.0891386, 0.0419911, 0.0304909)
bones/49/rotation = Quaternion(0.161046, 0.0446955, -0.023706, 0.985649)

[node name="AnimationTree" type="AnimationTree" parent="Model"]
tree_root = SubResource("AnimationNodeBlendTree_04q1v")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/cast/active = false
parameters/state/current = 0

[node name="RayCastGround" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.1, 0)
collision_mask = 4

[node name="ShapeCastLedge" type="ShapeCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.618405, 0.416)
enabled = false
shape = SubResource("CapsuleShape3D_udn26")
max_results = 2
collision_mask = 5

[editable path="Model"]
